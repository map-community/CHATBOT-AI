# ====================================
# 프로덕션 환경 변수 설정
# ====================================
# 이 파일을 .env로 복사하고 실제 값을 입력하세요
# cp .env.production.example .env
# chmod 600 .env  # 보안을 위해 권한 제한

# ====================================
# API Keys (필수)
# ====================================

# Pinecone (벡터 데이터베이스)
PINECONE_API_KEY=your_actual_pinecone_api_key_here
PINECONE_INDEX_NAME=info
PINECONE_ENVIRONMENT=us-east-1  # Pinecone 환경에 맞게 수정

# Upstage (LLM API)
UPSTAGE_API_KEY=your_actual_upstage_api_key_here

# ====================================
# Database Configuration
# ====================================

# MongoDB
MONGODB_URI=mongodb://mongodb:27017/
MONGODB_DATABASE=knu_chatbot
MONGODB_COLLECTION=notice_collection

# MongoDB 인증 사용 시 (권장)
# MONGODB_URI=mongodb://chatbot_user:your_password@mongodb:27017/knu_chatbot?authSource=knu_chatbot
# MONGODB_ROOT_PASSWORD=your_strong_root_password_here

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Redis 비밀번호 사용 시 (권장)
# REDIS_PASSWORD=your_redis_password_here

# ====================================
# Flask Application
# ====================================

FLASK_HOST=0.0.0.0
FLASK_PORT=5000
FLASK_ENV=production
FLASK_DEBUG=False

# 세션 보안 (랜덤한 값으로 변경 필요)
# FLASK_SECRET_KEY=$(openssl rand -hex 32)
FLASK_SECRET_KEY=change_this_to_random_secret_key_in_production

# ====================================
# Logging
# ====================================

LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=/app/logs/app.log

# ====================================
# Performance & Optimization
# ====================================

# Gunicorn 워커 수 (CPU 코어 수 * 2 + 1 권장)
GUNICORN_WORKERS=5
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120

# ====================================
# Application Settings
# ====================================

# 최대 요청 크기 (MB)
MAX_CONTENT_LENGTH=16

# CORS 설정
CORS_ORIGINS=*  # 프로덕션에서는 특정 도메인으로 제한 권장
# CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ====================================
# Security
# ====================================

# API Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60

# ====================================
# Monitoring & Alerts
# ====================================

# Sentry (에러 추적) - 선택사항
# SENTRY_DSN=your_sentry_dsn_here

# ====================================
# Backup
# ====================================

# AWS S3 백업 설정 (선택사항)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=your-backup-bucket-name
# AWS_REGION=ap-northeast-2

# ====================================
# Development vs Production
# ====================================

# 환경 구분
ENVIRONMENT=production

# 디버그 모드 (프로덕션에서는 반드시 False)
DEBUG=False
